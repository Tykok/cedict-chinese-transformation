name: Push on main
on:
  push:
    branches:
      - 'main'
jobs:
  create-release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: "Install dependencies"
        run: npm i
      - name: "Launch release note generation"
        run: |
          npm run rn \
          -- \
          --token ${{ secrets.GITHUB_TOKEN }} \
          --repo Tykok/cedict-chinese-transformation \
          --keys "Feat:Features,Fix:Fixes,Conf:Configuration,Doc:Documentation" \
          --version "$(grep version package.json | awk -F \" '{print $4}')" \
          --branch main \
          --style full 